# LGPLv2.1 for csparse

licenses(["notice"])
FLAGS = [
    "-Wall",
    "-Wcast-align",
    "-Wcast-qual",
    "-Wchar-subscripts",
    "-Wconversion",
    "-Weffc++",
    "-Weverything",
    "-Wextra",
    "-Wformat",
    "-Wimplicit",
    "-Wimplicit-function-declaration",
    "-Wimport",
    "-Winit-self",
    "-Winvalid-pch",
    "-Wmissing-braces",
    "-Wmissing-field-initializers",
    "-Wmissing-format-attribute",
    "-Wmissing-include-dirs",
    "-Wno-c++98-compat",
    "-Wno-c++98-compat-pedantic",
    "-Wno-comma",
    "-Wno-documentation",
    "-Wno-documentation-deprecated-sync",
    "-Wno-documentation-unknown-command",
    "-Wno-float-equal",
    "-Wno-gcc-compat",
    "-Wno-global-constructors",
    "-Wno-nested-anon-types",
    "-Wno-non-modular-include-in-module",
    "-Wno-old-style-cast",
    "-Wno-packed",
    "-Wno-padded",
    "-Wno-range-loop-analysis",
    "-Wno-reserved-id-macro",
    "-Wno-shorten-64-to-32",
    "-Wno-sign-conversion",
    "-Wno-switch-enum",
    "-Wno-thread-safety-negative",
    "-Wno-undef",
    "-Wno-unknown-warning-option",
    "-Wno-unreachable-code",
    "-Wno-unused-macros",
    "-Wno-unused-value",
    "-Wno-used-but-marked-unused",
    "-Wno-weak-vtables",
    "-Wparentheses",
    "-Wpointer-arith",
    "-Wredundant-decls",
    "-Wreturn-type",
    "-Wsequence-point",
    "-Wshadow",
    "-Wsign-compare",
    "-Wstack-protector",
    "-Wstrict-aliasing=2",
    "-Wstrict-prototypes",
    "-Wswitch",
    "-Wswitch-default",
    "-Wswitch-enum",
    "-Wtrigraphs",
    "-Wundef",
    "-Wuninitialized",
    "-Wunknown-pragmas",
    "-Wunreachable-code",
    "-Wunused",
    "-Wunused-function",
    "-Wunused-label",
    "-Wunused-parameter",
    "-Wunused-value",
    "-Wunused-variable",
    "-std=gnu++11",
    "-O3",
]

cc_test(
    name = "test_proj1",
    srcs = ["test_proj1.cc"],
    copts = ["-Iexternal/gtest/include"] + FLAGS,
    deps = [
        "@csparse//:csparse",
        "@eigen//:eigen",
        "@gtest//:gtest_main",
    ],
)
